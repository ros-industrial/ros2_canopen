Search.setIndex({"docnames": ["application/prbt_robot", "application/trinamic", "developers-guide/architecture", "developers-guide/design-objectives", "developers-guide/new-device-manager", "developers-guide/new-driver", "developers-guide/new-master", "developers-guide/overview", "index", "quickstart/examples", "quickstart/installation", "quickstart/operation", "software-tests/proxy-driver-test", "software-tests/ros2_control_system-test", "user-guide/cia402-driver", "user-guide/configuration", "user-guide/how-to-create-a-cia301-system", "user-guide/how-to-create-a-configuration", "user-guide/how-to-create-a-robot-system", "user-guide/master", "user-guide/operation", "user-guide/operation/managed-service-interface", "user-guide/operation/ros2-control-interface", "user-guide/operation/service-interface", "user-guide/proxy-driver"], "filenames": ["application/prbt_robot.rst", "application/trinamic.rst", "developers-guide/architecture.rst", "developers-guide/design-objectives.rst", "developers-guide/new-device-manager.rst", "developers-guide/new-driver.rst", "developers-guide/new-master.rst", "developers-guide/overview.rst", "index.rst", "quickstart/examples.rst", "quickstart/installation.rst", "quickstart/operation.rst", "software-tests/proxy-driver-test.rst", "software-tests/ros2_control_system-test.rst", "user-guide/cia402-driver.rst", "user-guide/configuration.rst", "user-guide/how-to-create-a-cia301-system.rst", "user-guide/how-to-create-a-configuration.rst", "user-guide/how-to-create-a-robot-system.rst", "user-guide/master.rst", "user-guide/operation.rst", "user-guide/operation/managed-service-interface.rst", "user-guide/operation/ros2-control-interface.rst", "user-guide/operation/service-interface.rst", "user-guide/proxy-driver.rst"], "titles": ["Pilz manipulator PRBT 6", "Trinamic Stepper Motor control", "Architecture", "Design Objectives", "Creating your device manager", "Creating a new device driver", "Creating a new master", "Overview", "ROS2 CANopen Stack", "Running Examples", "Installation", "Setup CAN Controller", "Lifecycle Proxy Driver Test", "ros2_control SystemInterface test", "Cia402 Driver", "Configuration Package", "How to create a cia301 system with ros2_control", "How to create a configuration package", "How to create a robot system with ros2_control", "Master Driver", "Operation", "Managed Service Interface", "Hardware Interface", "Service Interface", "Proxy Driver"], "terms": {"thi": [0, 1, 2, 5, 7, 8, 13, 14, 15, 16, 17, 18, 22], "guid": [0, 18], "provid": [0, 2, 5, 7, 9, 16, 20, 21, 22, 23], "instruct": [0, 1], "how": [0, 1, 8, 13], "set": [0, 1, 5, 11, 13, 14, 15, 17, 18, 19], "up": [0, 11, 13, 15, 16, 17, 19, 20, 22], "us": [0, 1, 2, 3, 5, 7, 14, 15, 17, 18, 20, 21, 22, 23], "ros2_canopen": [0, 1, 2, 3, 5, 7, 10, 14, 15, 16, 17, 18, 19, 20, 21, 23, 24], "befor": [0, 2, 21], "follow": [0, 1, 3, 5, 15, 16, 17, 18, 21, 22, 23], "make": [0, 3, 5, 17, 22], "sure": [0, 5, 17], "refer": [0, 8, 16], "user": [0, 20], "configur": [0, 2, 5, 7, 8, 18, 22], "creat": [0, 1, 8, 13], "system": [0, 8, 13], "ros2_control": [0, 3, 8, 20, 22], "addition": [0, 1], "i": [0, 1, 2, 3, 5, 7, 8, 13, 14, 15, 16, 17, 20, 22, 23, 24], "base": [0, 1, 2, 5, 7, 18, 21, 23], "pilz_robot": 0, "To": [0, 1, 5, 13, 16, 17], "pleas": [0, 16], "pre": 0, "exist": [0, 1, 2, 22], "new": [0, 1, 3, 8, 13, 18], "name": [0, 1, 14, 15, 17, 18, 19, 21, 22, 23, 24], "prbt_robot_support": 0, "ros2": [0, 1, 2, 3, 7, 10, 13, 14, 15, 16, 17, 18, 21, 23, 24], "pkg": [0, 5, 17, 18], "depend": [0, 1, 5, 10, 11, 17, 18], "lely_core_librari": [0, 1, 5, 7, 15, 17, 18], "build": [0, 5, 7, 10, 15, 17, 18, 20], "type": [0, 2, 5, 11, 13, 14, 16, 17, 18, 19, 21, 22, 23, 24], "ament_cmak": [0, 1, 5, 17, 18], "cd": [0, 10, 17, 18], "rm": [0, 17, 18], "rf": [0, 17, 18], "src": [0, 1, 5, 10, 17, 18], "includ": [0, 5, 14, 16, 17, 18], "mkdir": [0, 17, 18], "p": [0, 17, 18], "launch": [0, 1, 9, 13, 15, 18, 20], "config": [0, 1, 15, 16, 17, 18], "urdf": [0, 18, 22], "touch": [0, 17, 18], "prbt_ros2_control": 0, "yaml": [0, 15, 17, 18, 21, 22, 23], "bu": [0, 1, 2, 3, 7, 8, 11, 13, 16, 18, 20, 22], "folder": [0, 1, 5, 10, 17, 18], "And": [0, 17], "yml": [0, 1, 2, 14, 15, 17, 18, 21, 22, 23], "copi": [0, 7, 18], "prbt_0_1": 0, "dcf": [0, 1, 15, 16, 17, 18, 21, 22, 23], "from": [0, 1, 2, 3, 5, 7, 10, 13, 14, 15, 16, 17, 18, 22, 24], "pilz_support": 0, "now": [0, 13, 15, 17, 18, 21, 22], "structur": [0, 3, 5, 7, 16], "should": [0, 1, 2, 3, 5, 13, 14, 15, 16, 17], "look": [0, 2, 5, 15, 17], "like": [0, 5, 17], "cmakelist": [0, 1, 15, 17, 18], "txt": [0, 1, 15, 17, 18], "xml": [0, 15, 17], "add": [0, 1, 5, 11, 13, 17, 18], "option": [0, 1, 11, 16, 17, 18, 20, 21, 23], "dcf_path": [0, 1, 15, 16, 17, 18], "bus_config_path": [0, 1, 15, 16, 18], "master": [0, 1, 3, 7, 8, 13, 14, 16, 17, 18, 20, 21, 22, 23], "node_id": [0, 1, 15, 16, 17, 18, 22], "1": [0, 1, 11, 15, 16, 18, 22], "driver": [0, 1, 3, 7, 8, 15, 16, 17, 18, 20, 22], "masterdriv": [0, 1, 16, 17, 18, 19, 23], "canopen_master_driv": [0, 1, 16, 18, 19, 21], "sync_period": [0, 1, 15, 18], "10000": [0, 18], "default": [0, 1, 14, 15, 16, 18, 21, 23], "cia402driv": [0, 1, 14, 18, 22, 23], "canopen_402_driv": [0, 1, 7, 14, 18, 21, 23], "period": [0, 14, 18], "10": [0, 1, 18], "heartbeat_produc": [0, 1, 15], "1000": [0, 1, 11, 13, 15, 18], "switching_st": [0, 14], "2": [0, 1, 11, 15, 18], "position_mod": [0, 1, 14, 18], "7": [0, 18], "scale_pos_from_dev": [0, 14], "0": [0, 1, 7, 13, 15, 18], "00001745329252": 0, "scale_pos_to_dev": [0, 14], "57295": 0, "7795131": 0, "sdo": [0, 1, 12, 14, 15, 16, 18, 19, 24], "index": [0, 1, 13, 14, 15, 16, 18, 19, 24], "0x6081": [0, 1, 18], "sub_index": [0, 1, 18], "valu": [0, 1, 5, 13, 14, 15, 18, 19], "0x60c2": [0, 1, 18], "interpol": [0, 1, 14, 18], "time": [0, 1, 14, 15, 16, 18], "m": [0, 1, 15, 18, 19], "match": [0, 1, 5, 17], "tpdo": [0, 13, 14, 15, 18, 24], "need": [0, 1, 2, 3, 15, 16, 17, 18, 20, 21, 22, 23], "statusword": [0, 18], "actual": [0, 3, 18], "veloc": [0, 1, 14, 18], "posit": [0, 1, 14, 18], "mode": [0, 1, 14, 18, 20, 22], "oper": [0, 1, 8, 14, 15, 16, 18, 22], "enabl": [0, 2, 3, 13, 14, 15, 16, 18, 22, 23], "true": [0, 14, 15, 17, 18], "cob_id": [0, 18], "auto": [0, 15, 18], "transmiss": [0, 18], "0x01": [0, 16, 18], "map": [0, 14, 18, 24], "0x6041": [0, 18], "statu": [0, 14, 18], "word": [0, 18], "0x6061": [0, 18], "displai": [0, 18], "0x6064": [0, 18], "0x606c": [0, 18], "3": [0, 1, 5, 11, 15, 17, 18, 22], "fals": [0, 1, 14, 15, 16], "4": [0, 11, 15], "rpdo": [0, 13, 14, 15, 18, 24], "controlword": [0, 18], "target": [0, 1, 5, 14, 15, 18], "0x6040": [0, 18], "0x6060": [0, 18], "0x60c1": 0, "data": [0, 5, 13, 14, 16, 17, 18, 19, 21, 23, 24], "0x607a": [0, 18], "node": [0, 1, 2, 3, 5, 7, 13, 14, 15, 17, 18, 19, 22, 23, 24], "prbt_joint_1": 0, "prbt_joint_2": 0, "prbt_joint_3": 0, "5": [0, 22], "prbt_joint_4": 0, "prbt_joint_5": 0, "prbt_joint_6": 0, "8": [0, 1, 5, 17], "xacro": [0, 18], "file": [0, 1, 5, 8, 12, 13, 16, 17, 18, 21, 22, 23], "version": [0, 1, 5, 15, 17], "xmln": 0, "http": [0, 10, 15, 16], "www": 0, "ro": [0, 10, 16], "org": 0, "wiki": 0, "macro": [0, 5, 15], "param": [0, 22], "prefix": 0, "bus_config": [0, 1, 15, 17, 22], "master_config": [0, 1, 17, 22], "can_interface_nam": [0, 1, 17, 21, 22, 23], "master_bin": [0, 1, 16, 17, 21, 22, 23], "hardwar": [0, 1, 16, 18, 20], "plugin": [0, 22], "canopen_ros2_control": [0, 16, 20, 22], "robotsystem": [0, 20], "joint": [0, 14, 16, 18, 22], "joint_1": [0, 16, 18], "device_nam": [0, 15], "joint_2": [0, 16, 18], "joint_3": 0, "joint_4": 0, "joint_5": 0, "joint_6": 0, "controller_manag": [0, 16, 18], "ros__paramet": [0, 16, 18, 22], "update_r": [0, 16, 18], "100": [0, 15, 16, 18], "hz": [0, 16, 18], "joint_state_broadcast": [0, 16, 18], "jointstatebroadcast": [0, 16, 18], "arm_control": 0, "joint_trajectory_control": 0, "jointtrajectorycontrol": 0, "command_interfac": 0, "state_interfac": 0, "stop_trajectory_dur": 0, "state_publish_r": 0, "action_monitor_r": 0, "25": 0, "goal_tim": 0, "limit": 0, "has_acceleration_limit": 0, "max_acceler": 0, "py": [0, 1, 9, 12, 13, 15, 16, 17, 18], "directori": [0, 1, 5, 9, 15, 17, 18], "your": [0, 1, 2, 5, 10, 11, 16, 17, 18, 21, 22], "complet": [0, 3], "The": [0, 2, 3, 5, 7, 13, 14, 15, 16, 17, 19, 20, 21, 22, 23], "import": [0, 1, 15, 16, 18], "o": [0, 1, 17], "ament_index_python": [0, 1], "get_package_share_directori": [0, 1, 17], "launchdescript": [0, 1, 17, 18], "action": [0, 1, 16, 18, 22], "declarelaunchargu": [0, 18], "substitut": [0, 18], "command": [0, 5, 13, 15, 17, 18, 19, 22, 23], "findexecut": [0, 18], "launchconfigur": [0, 18], "pathjoinsubstitut": [0, 18], "launch_ro": [0, 18], "findpackageshar": [0, 18], "includelaunchdescript": [0, 1, 17, 18], "launch_description_sourc": [0, 1, 18], "pythonlaunchdescriptionsourc": [0, 1, 17, 18], "def": [0, 1, 17, 18], "generate_launch_descript": [0, 1, 17, 18], "declared_argu": 0, "append": 0, "description_packag": 0, "descript": [0, 3, 12, 13, 14, 15, 17, 19, 21, 22, 23, 24], "where": [0, 15, 17, 20], "store": [0, 5, 16], "default_valu": 0, "vcan0": [0, 1, 9, 11, 12, 13, 16, 21, 23], "interfac": [0, 1, 3, 5, 7, 13, 14, 16, 17, 18, 19], "can": [0, 1, 5, 7, 8, 9, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23], "use_ros2_control": 0, "controller_config": 0, "master_bin_path": [0, 1], "path": [0, 1, 10, 15, 17, 21, 22, 23], "join": [0, 1, 17], "bin": [0, 1, 5, 15, 17, 21, 22, 23], "robot_description_cont": [0, 18], "robot_descript": [0, 18], "parametervalu": 0, "value_typ": 0, "str": 0, "robot_state_publisher_nod": [0, 18], "robot_state_publish": [0, 18], "execut": [0, 1, 14, 16, 18], "output": [0, 18], "both": [0, 18], "paramet": [0, 5, 15, 16, 18, 22], "control": [0, 3, 7, 8, 13, 14, 15, 16, 18], "manag": [0, 2, 7, 14, 15, 16, 18, 23, 24], "controller_manager_nod": 0, "ros2_control_nod": [0, 18], "joint_state_broadcaster_spawn": [0, 18], "spawner": [0, 18], "argument": [0, 1, 18], "arm_controller_spawn": 0, "nodes_list": 0, "return": [0, 1, 17, 18], "edit": [0, 1, 17, 18], "line": [0, 1, 13, 17, 18], "after": [0, 13, 16, 18], "find_packag": [0, 1, 5, 17, 18], "section": [0, 16, 17, 18], "cogen_dcf": [0, 1, 15, 17, 18], "instal": [0, 1, 5, 7, 8, 17, 18], "mesh": 0, "destin": [0, 1, 5, 17, 18], "share": [0, 1, 17, 18], "project_nam": [0, 1, 5, 17, 18], "sourc": [0, 1, 3, 7, 10, 17, 18], "moveit": 0, "assist": 0, "tutori": [0, 1], "same": [0, 3, 20], "workspac": [0, 10], "updat": [0, 14], "moveit_control": 0, "trajectory_execut": 0, "allowed_execution_duration_sc": 0, "allowed_goal_duration_margin": 0, "allowed_start_toler": 0, "01": 0, "moveit_controller_manag": 0, "moveit_simple_controller_manag": 0, "moveitsimplecontrollermanag": 0, "controller_nam": 0, "followjointtrajectori": 0, "action_n": 0, "follow_joint_trajectori": 0, "moveit_planning_execut": 0, "compon": [0, 2, 17], "timeract": 0, "moveit_configs_util": 0, "moveitconfigsbuild": 0, "moveit_config": 0, "package_nam": [0, 15, 17, 18], "prbt_robot_moveit_config": 0, "to_moveit_config": 0, "can0": [0, 1, 11, 17], "robot_hw_nod": 0, "launch_argu": [0, 1, 17, 18], "item": [0, 1, 15, 17, 18], "virtual_joint": 0, "package_path": 0, "static_virtual_joint_tf": 0, "move_group": 0, "rviz": [0, 18], "moveit_rviz": 0, "node_list": 0, "There": [0, 13, 22], "ar": [0, 1, 2, 3, 5, 9, 13, 15, 16, 17, 20, 21, 22, 23], "two": [0, 5], "wai": [0, 20], "demo": 0, "first": [0, 2, 5, 16, 17], "you": [0, 1, 2, 9, 13, 15, 17, 18, 21, 22, 23], "canopen_fake_slav": [0, 1, 18], "simul": 0, "second": [0, 2], "real": [0, 1, 16], "fake": [0, 1], "rviz2": 0, "simpl": [1, 5, 14, 15, 16, 18, 19, 24], "packag": [1, 2, 7, 8, 12, 13, 14, 16, 18, 19, 21, 22, 23, 24], "smart": 1, "If": [1, 2, 5, 14, 21], "haven": 1, "t": 1, "alreadi": [1, 3], "done": [1, 5, 10, 23], "so": 1, "step": [1, 11, 16, 17], "singl": 1, "pd42": 1, "download": 1, "ed": [1, 15, 16, 17, 18], "place": 1, "tmcm": 1, "1270": 1, "content": [1, 18], "20000": 1, "poll": [1, 14, 22], "heartbeat": [1, 15, 19], "everi": 1, "dure": [1, 15], "500000": [1, 11], "0x6083": [1, 18], "1000000": [1, 11], "acceler": 1, "deceler": 1, "0x6085": 1, "quickstop": 1, "0x6098": 1, "35": 1, "home": 1, "50": [1, 18], "cyclic": [1, 14, 18], "trinamic_pd42": 1, "cmake_minimum_requir": [1, 5, 17], "project": [1, 5, 17], "trinamic_pd42_can": 1, "cmake_compiler_is_gnucxx": [1, 5, 17], "OR": [1, 5, 17], "cmake_cxx_compiler_id": [1, 5, 17], "clang": [1, 5, 17], "add_compile_opt": [1, 5, 17], "wall": [1, 5, 17], "wextra": [1, 5, 17], "wpedant": [1, 5, 17], "endif": [1, 5, 17], "find": [1, 5, 15, 17, 22], "requir": [1, 3, 5, 14, 17, 20], "rclcpp": [1, 2, 5], "std_srv": [1, 5, 13], "canopen": [1, 3, 7, 13, 14, 15, 16, 17, 18, 19, 21, 22, 23, 24], "canopen_interfac": [1, 5, 13, 17], "generate_dcf": 1, "add_execut": 1, "position_tick_cli": 1, "position_tick_motor": 1, "cpp": [1, 5], "ament_target_depend": [1, 5], "lib": [1, 5], "build_test": [1, 5, 17], "ament_lint_auto": [1, 17], "ament_packag": [1, 5, 17], "sy": 1, "ld": [1, 17], "slave_eds_path": 1, "slave_node_1": [1, 18], "cia402_slav": [1, 18], "node_nam": [1, 18], "pd42_slave": 1, "slave_config": [1, 18], "device_contain": [1, 17], "canopen_cor": [1, 2, 5, 7, 17, 21, 23], "add_act": [1, 17], "begin": 1, "setup": [1, 8, 18], "which": [1, 2, 3, 5, 7, 15, 17, 19, 21, 22, 24], "either": [1, 5, 15], "virtual": [1, 11], "peak": [1, 11], "prefer": 1, "modifi": [1, 17], "chang": [1, 13, 14, 24], "comment": [1, 17], "out": 1, "slave": [1, 13, 15, 17, 20], "ad": [1, 17, 18, 23], "front": 1, "onc": [1, 5, 13, 17, 20, 22, 23], "have": [1, 2, 3, 5, 9, 13, 16, 17, 20, 21, 22], "been": [1, 2, 21], "made": 1, "initila": 1, "call": [1, 13, 17, 20], "servic": [1, 2, 3, 7, 13, 16, 20], "init": [1, 14], "srv": [1, 13], "trigger": [1, 13, 14, 24], "profil": [1, 5, 7, 14, 16], "cotargetdoubl": [1, 14], "code": [1, 3, 15, 17], "stack": [2, 3, 7, 15, 17, 20], "composit": 2, "concept": [2, 21, 23], "In": [2, 3, 5, 7, 9, 13, 15, 16, 17, 19, 20, 22], "dynam": 2, "loadabl": 2, "load": [2, 14, 15, 21, 23], "core": [2, 5, 7, 15], "devicecontain": 2, "implement": [2, 3, 5, 7, 14, 21, 23], "componentmanag": 2, "class": [2, 15, 21, 23], "export": [2, 5, 16], "rclcpp_compon": [2, 5], "canopenmasterinterfac": 2, "canopendriverinterfac": 2, "differ": [2, 3, 7, 15, 20, 21, 22], "between": [2, 16], "componentcontain": 2, "onli": [2, 3, 5, 14, 15, 16, 17, 22], "specifi": [2, 14, 15, 17, 19, 23, 24], "It": [2, 7, 15, 16, 22, 23], "doe": [2, 5, 20], "onlin": [2, 23], "all": [2, 5, 14, 15, 16, 17, 18, 20, 21, 23], "connect": [2, 15], "known": [2, 16], "start": [2, 5, 9, 13, 15, 16, 18, 20], "Then": [2, 17], "well": [2, 17, 18, 20], "lifecyclemanag": 2, "depict": 2, "diagram": 2, "consist": 2, "three": [2, 16, 20], "main": 2, "function": [2, 3, 7, 24], "functionail": 2, "independ": 2, "node_interfac": [2, 5], "nodecanopenmasterinterfac": 2, "nodecanopenmast": 2, "an": [2, 7, 13, 14, 15, 16, 19, 22, 24], "abstract": 2, "some": [2, 13, 17], "usual": [2, 5, 17, 21, 23], "inherit": 2, "wrap": 2, "conveni": [2, 7], "canopenmast": 2, "third": 2, "rclcpp_lifecycl": [2, 5], "lifecyclenod": [2, 5], "lifecyclecanopenmast": 2, "nodecanopendriverinterfac": [2, 5], "nodecanopendriv": 2, "plan": 2, "write": [2, 3, 13, 14, 19, 21, 24], "scratch": 2, "leli": [2, 15], "librari": [2, 3, 5, 7, 9, 15], "want": [2, 5, 20], "lely_driver_bridg": 2, "nodecanopenbasedriv": 2, "canopendriv": [2, 5], "lifecyclecanopendriv": [2, 5], "ros_canopen": [3, 7], "had": 3, "number": [3, 7, 15, 22], "drawback": 3, "especi": [3, 15], "when": [3, 5, 14, 15, 16, 17, 21, 23], "came": 3, "maintainabl": 3, "complex": 3, "order": [3, 9, 15, 16, 17], "address": 3, "we": [3, 5, 16, 17], "decid": [3, 5, 17], "redesign": 3, "goal": 3, "understand": 3, "extend": 3, "One": [3, 5], "major": 3, "wa": 3, "its": [3, 13], "layer": [3, 16], "robust": 3, "parallel": 3, "request": [3, 15], "multipl": [3, 15, 16, 17, 22], "run": [3, 8, 14], "possibl": [3, 15], "concurr": 3, "handl": [3, 16, 19], "sequenc": [3, 21], "easi": [3, 5, 7, 20], "mainten": 3, "effort": 3, "reduc": [3, 14], "much": 3, "therefor": 3, "clean": 3, "clear": 3, "document": [3, 7, 8, 15, 17], "funciton": 3, "avail": [3, 5, 12, 13, 15, 17, 22], "other": [3, 5, 7, 11, 16, 17], "high": 3, "qualiti": 3, "open": [3, 7, 13], "self": 3, "drive": [3, 14, 22], "via": [3, 5, 7, 13, 16, 19, 22, 24], "A": [3, 5, 7, 15, 17, 22, 24], "cia402": [3, 7, 8], "ervic": 3, "proxi": [3, 5, 7, 8, 13, 14], "For": [3, 16, 22], "debug": 3, "purpos": [3, 7, 20], "send": [3, 13, 14, 19, 23], "receiv": [3, 13, 14, 15, 24], "good": 3, "enough": 3, "own": [5, 16, 21], "fairli": 5, "specif": [5, 7, 17, 24], "yet": 5, "support": [5, 14], "happi": 5, "integr": [5, 13], "repositori": 5, "simpli": [5, 7, 24], "pr": 5, "least": 5, "being": 5, "contain": [5, 7, 15, 16], "gener": [5, 7, 13, 15, 17, 21, 23], "recommend": 5, "one": [5, 15, 17, 20], "anoth": 5, "lifecycl": [5, 8, 14, 15, 17, 19, 20, 21, 22, 23, 24], "extens": [5, 7], "point": 5, "necessari": [5, 15, 17, 19], "callback": 5, "come": [5, 15, 23], "ani": [5, 20, 21], "ha": [5, 15, 16, 20, 21, 22, 23], "forward": [5, 7, 23, 24], "without": 5, "everyth": [5, 17], "explain": 5, "here": 5, "standard": [5, 20], "lifecycle_msg": 5, "canopen_base_driv": [5, 7, 17], "canopen_proxy_driv": [5, 7, 16, 17, 21, 23, 24], "std_msg": [5, 18], "subfold": [5, 17], "pacakge_nam": 5, "similar": [5, 14, 16], "relat": [5, 16], "overrid": 5, "void": 5, "bool": [5, 14], "called_from_bas": 5, "activ": [5, 21, 22], "deactiv": 5, "cleanup": 5, "shutdown": 5, "addit": [5, 14, 15, 19, 20], "on_rpdo": 5, "codata": [5, 13, 14, 24], "on_nmt": 5, "nmtstate": 5, "nmt_state": [5, 14, 24], "interact": 5, "lelydriverbridg": 5, "object": [5, 8, 14, 15, 16, 19, 24], "driver_": 5, "nmt_command": 5, "tpdo_transmit": 5, "std": 5, "futur": 5, "async_sdo_writ": 5, "async_sdo_read": 5, "timer": [5, 14], "thread": 5, "were": 5, "stop": [5, 14, 15, 16], "functionl": 5, "node_": 5, "templat": 5, "create_tim": 5, "create_publish": 5, "etc": 5, "current": [5, 20], "seem": 5, "e": [5, 15, 17, 23], "xyz": 5, "specialis": [5, 20], "declar": 5, "node_canopen_xxx_driv": 5, "hpp": 5, "node_canopen_proxy_driv": 5, "nodetyp": 5, "nodecanopenxxxdriv": 5, "public": [5, 7], "nodecanopenproxydriv": 5, "static_assert": 5, "is_base_of": 5, "must": [5, 12, 13, 16], "deriv": 5, "go": 5, "member": 5, "definit": [5, 15], "explicit": 5, "instanti": 5, "node_canopen_xxx_driver_impl": 5, "wrote": 5, "alwai": 5, "lifecycle_xxx_driv": 5, "canopen_xxx_driv": 5, "driver_nod": 5, "brief": 5, "veri": 5, "basic": [5, 16], "lifecyclexxxdriv": 5, "shared_ptr": 5, "node_canopen_xxx_driver_": 5, "nodeopt": 5, "node_opt": 5, "lifecycle_proxy_driv": 5, "namespac": 5, "make_shar": 5, "node_canopen_proxy_driver_": 5, "static_pointer_cast": 5, "node_canopen_driver_": 5, "register_node_macro": 5, "rclcpp_components_register_nod": 5, "wno": 5, "unus": 5, "ament_cmake_ro": 5, "add_librari": 5, "target_compile_featur": 5, "c_std_99": 5, "cxx_std_17": 5, "c99": 5, "c": 5, "17": 5, "target_compile_opt": 5, "wl": 5, "undefin": 5, "target_include_directori": 5, "build_interfac": 5, "cmake_current_source_dir": 5, "install_interfac": 5, "target_link_librari": 5, "caus": 5, "visibl": 5, "dllexport": 5, "rather": 5, "than": [5, 20], "dllimport": 5, "appropri": [5, 16, 21, 23], "dll": 5, "consum": [5, 15], "target_compile_definit": 5, "privat": 5, "canopen_xxx_driver_building_librari": 5, "node_plugin": 5, "target_fil": 5, "n": 5, "non": [5, 22, 23], "xxx_driver": 5, "xxxdriver": 5, "export_": 5, "archiv": 5, "runtim": [5, 15, 17, 20], "ament_export_include_directori": 5, "ament_export_librari": 5, "ament_export_target": 5, "devic": [7, 8, 11, 13, 14, 16, 17, 19, 20, 22, 24], "upon": 7, "profession": 7, "lelycor": 7, "oppos": 7, "previou": 7, "simplifi": 7, "through": [7, 13], "": [7, 10, 15, 23], "configutar": 7, "toolchain": 7, "serv": [7, 16], "meta": 7, "overal": [7, 16], "colcon": [7, 10, 17], "wrapper": 7, "rosdep": [7, 10], "messag": [7, 24], "motion": [7, 14], "expos": [7, 20], "canopen_402": 7, "licens": [7, 17], "accordingli": 7, "under": [7, 22], "gnu": 7, "lesser": 7, "v3": 7, "exampl": [8, 16, 22], "cmake": 8, "cia301": 8, "robot": [8, 17], "design": 8, "overview": 8, "architectur": 8, "api": 8, "systeminterfac": 8, "pilz": 8, "manipul": 8, "prbt": 8, "6": [8, 15], "trinam": 8, "stepper": 8, "motor": 8, "tryout": 9, "few": [9, 13], "canopen_test": [9, 12, 13, 16, 18, 22], "them": [9, 13, 15, 22], "cia402_setup": 9, "cia402_lifecycle_setup": 9, "canopen_system": [9, 13, 16], "cia402_system": 9, "robot_control_setup": 9, "clone": 10, "git": [10, 17], "github": [10, 16], "com": [10, 15, 16], "industri": [10, 16], "ignor": 10, "r": 10, "y": 10, "cancontrol": 11, "sudo": [11, 13], "modprob": [11, 13], "vcan": [11, 13], "ip": [11, 13], "link": [11, 13], "dev": [11, 13], "txqueuelen": [11, 13], "peak_usb": 11, "bitrat": 11, "capabl": [11, 20], "candlelight": 11, "usb": 11, "adapt": 11, "gs_usb": 11, "socketcan": 11, "detail": [12, 15, 17], "inform": [12, 13, 16, 17], "launch_test": [12, 17], "test_lifecycle_proxy_driv": 12, "nmt": [12, 13, 14, 15, 16, 19, 24], "prerequisit": [12, 13], "test_proxy_driv": 12, "exemplari": 13, "commun": [13, 15, 16, 19], "bring": [13, 16, 21, 22], "framework": 13, "next": 13, "show": 13, "usag": [13, 15, 23], "check": [13, 17, 21], "dynamic_joint_st": 13, "intern": 13, "topic": [13, 14, 18, 24], "echo": 13, "termin": 13, "node_1_control": 13, "reset": [13, 14, 15, 16, 24], "state": [13, 14, 15, 21, 24], "nmt_reset_nod": [13, 14, 24], "expect": [13, 15], "publish": [13, 20], "pub": [13, 18], "msg": [13, 14, 18], "0x4000": 13, "subindex": [13, 14, 16, 19, 24], "0x1122": 13, "watch": 13, "mirror": 13, "0x4001": 13, "That": 13, "get": [13, 14], "see": [13, 14, 15, 16], "16385": 13, "4386": 13, "lifecyclecia402driv": [14, 21], "sdo_read": [14, 24], "coread": [14, 24], "read": [14, 16, 19, 24], "datatyp": [14, 19, 24], "remot": [14, 24], "sdo_writ": [14, 24], "cowrit": [14, 24], "initialis": 14, "referenc": 14, "recov": 14, "halt": 14, "switch": [14, 15], "velocity_mod": 14, "torque_mod": 14, "torqu": 14, "cyclic_position_mod": 14, "cyclic_velocity_mod": 14, "interpolated_position_mod": 14, "linear": 14, "fix": [14, 18], "codoubl": 14, "accept": 14, "joint_stat": 14, "sensor_msg": 14, "jointstat": 14, "string": [14, 21, 23, 24], "pdo": [14, 15, 16, 24], "recept": [14, 24], "loop": [14, 19], "sync": [14, 15], "signal": 14, "directli": 14, "realtim": [14, 20], "process": [14, 16], "otherwis": 14, "stuck": 14, "speed": 14, "processor": 14, "significantli": 14, "though": [14, 23], "millisecond": 14, "refresh": 14, "402": 14, "machin": 14, "below": [14, 15], "doubl": 14, "scale": 14, "factor": [14, 15], "convert": 14, "si": 14, "unit": 14, "scale_vel_to_dev": 14, "scale_vel_from_dev": 14, "int": 14, "more": [15, 20], "hold": [15, 16, 17], "each": [15, 16, 17, 21, 22, 23], "consequ": 15, "bus_config_name_1": [15, 17], "device1": [15, 17], "slave_n": [15, 17], "bus_config_name_2": [15, 17], "reli": 15, "topologi": 15, "appli": 15, "overwritten": 15, "right": [15, 22], "These": [15, 16], "uniqu": [15, 16, 17], "list": [15, 21, 23], "id": [15, 17, 22], "255": 15, "fulli": 15, "qualifi": [15, 17], "found": [15, 17], "baudrat": [15, 16], "kbit": 15, "vendor_id": 15, "vendor": 15, "0x00000000": 15, "product_cod": 15, "product": 15, "revision_numb": [15, 18], "revis": 15, "serial_numb": 15, "serial": 15, "heartbeat_multipli": 15, "obtain": 15, "produc": 15, "heartbeat_consum": 15, "whether": [15, 21], "monitor": 15, "emcy_inhibit_tim": 15, "emci": 15, "inhibit": 15, "\u03bc": 15, "1015": 15, "interv": 15, "sync_window": 15, "window": 15, "length": 15, "1007": 15, "sync_overflow": 15, "counter": 15, "overflow": 15, "1019": 15, "error_behavior": 15, "dictionari": [15, 16], "error": [15, 16], "behavior": 15, "0x00": [15, 16], "1029": 15, "nmt_inhibit_tim": 15, "102a": 15, "shall": 15, "itself": 15, "bit": 15, "1f80": 15, "start_nod": 15, "start_all_nod": 15, "simultan": 15, "reset_all_nod": 15, "case": 15, "event": [15, 19], "mandatori": [15, 17, 21, 23], "stop_all_nod": 15, "boot_tim": 15, "timeout": 15, "boot": [15, 23], "1f89": 15, "boot_timeout": 15, "2000m": 15, "characterist": 15, "note": 15, "choos": [15, 17, 21, 22], "mix": 15, "work": [15, 17, 22], "enable_lazy_load": 15, "flag": 15, "filenam": 15, "describ": [15, 17, 18], "omit": 15, "transmit": [15, 16], "1f81": 15, "reset_commun": [15, 16], "mai": 15, "sent": 15, "software_fil": 15, "firmwar": 15, "1f58": 15, "software_vers": 15, "softwar": 15, "1f55": 15, "configuration_fil": 15, "1f22": 15, "restore_configur": 15, "sub": 15, "1011": 15, "restor": 15, "dcfgen": [15, 21, 23], "give": 15, "tool": 15, "opensourc": 15, "doc": 15, "automat": [15, 21, 22], "artifact": 15, "extra": 15, "g": 15, "cia": 16, "301": 16, "also": 16, "applic": [16, 20], "foundat": 16, "protocol": 16, "defin": [16, 17, 22], "principl": 16, "network": 16, "sever": 16, "allow": 16, "exchang": 16, "perform": 16, "transfer": 16, "initi": 16, "final": [16, 17], "bus_conf": [16, 21, 23], "master_dcf": [16, 21, 23], "can_interfac": 16, "250": 16, "proxydriv": [16, 22, 23, 24], "joint_1_control": 16, "canopenproxycontrol": [16, 22], "joint_2_control": 16, "blob": 16, "about": 16, "associ": 16, "ensur": 16, "relev": 16, "act": 16, "identifi": [16, 21, 23], "differenti": 16, "individu": 16, "field": 16, "within": 16, "fundament": 16, "suit": 16, "offer": [16, 19], "critic": 16, "u": 16, "effect": 16, "our": 16, "regist": 16, "beyond": 16, "abil": 16, "smooth": 16, "reset_fbk": 16, "start_fbk": 16, "help": 16, "feedback": [16, 22], "indic": [16, 21, 23], "fbk": 16, "mechan": 16, "crucial": 16, "success": 16, "health": 16, "test": [16, 22], "script": 17, "decis": 17, "per": 17, "bus_config_nam": 17, "mani": 17, "respect": 17, "accord": 17, "lifecyclemasterdriv": [17, 19, 21], "further": [17, 22], "assign": 17, "path_fil": 17, "dirnam": 17, "__file__": 17, "adjust": 17, "pick": 17, "correctli": [17, 23], "skip": 17, "linter": 17, "copyright": 17, "ament_cmake_copyright_found": 17, "cpplint": 17, "repo": 17, "ament_cmake_cpplint_found": 17, "ament_lint_auto_find_test_depend": 17, "leveragin": 18, "canopen_robot_control_exampl": 18, "robot_control": [18, 22], "2000": 18, "forward_position_control": 18, "forward_command_control": 18, "forwardcommandcontrol": 18, "joint1": [18, 22], "joint2": [18, 22], "interface_nam": 18, "robot_control_config": 18, "control_nod": 18, "screen": 18, "forward_position_controller_spawn": 18, "slave_launch": 18, "slave_node_2": 18, "nodes_to_start": 18, "bash": 18, "visual": 18, "tf": 18, "model": 18, "frame": 18, "base_link": 18, "move": 18, "float64": 18, "creation": 19, "hook": 19, "onto": 19, "read_sdo": 19, "coreadid": 19, "nodeid": 19, "write_sdo": 19, "cowriteid": 19, "set_heartbeat": 19, "coheartbeatid": 19, "set_nmt": 19, "conmtid": 19, "bundl": 20, "subscrib": 20, "brought": 20, "readi": [20, 22], "thought": 20, "properti": 20, "except": 20, "special": 20, "recoveri": 20, "kill": 20, "restart": 20, "top": 20, "canopensystem": [20, 22], "cia402system": [20, 22], "low": 20, "latenc": 20, "unload": [21, 23], "disabl": [21, 23], "ros2cli": 21, "correct": [21, 23], "On": [21, 23], "pass": [21, 23], "unconfigur": 21, "take": [21, 22], "care": 21, "By": 21, "lifecycle_manag": 21, "ll": 21, "rememb": 21, "mark": [21, 23], "treat": 21, "un": 21, "lifecycleproxydriv": [21, 24], "concis": [21, 23], "mainli": 22, "cia402robotsystem": 22, "develop": 22, "input": 22, "still": 22, "attach": 22, "cia402robotcontrol": 22, "cia402devicecontrol": 22, "operation_mod": 22, "command_poll_freq": 22, "frequenc": 22, "sequenti": 23, "executor": 23}, "objects": {}, "objtypes": {}, "objnames": {}, "titleterms": {"pilz": 0, "manipul": 0, "prbt": 0, "6": 0, "packag": [0, 5, 15, 17], "creation": [0, 17], "setup": [0, 9, 11], "moveit2": 0, "run": [0, 1, 9], "robot": [0, 9, 18, 22], "trinam": 1, "stepper": 1, "motor": 1, "control": [1, 9, 11, 20, 22], "introduct": 1, "get": 1, "start": 1, "configur": [1, 14, 15, 16, 17, 21, 23], "exampl": [1, 9], "refer": [1, 15], "architectur": 2, "devic": [2, 4, 5, 15, 21, 23], "contain": [2, 20, 21, 23], "canopen": [2, 5, 8], "master": [2, 6, 15, 19], "driver": [2, 5, 12, 14, 19, 21, 23, 24], "design": 3, "object": 3, "develop": [3, 8], "creat": [4, 5, 6, 16, 17, 18], "your": 4, "manag": [4, 9, 20, 21], "new": [5, 6], "what": 5, "you": 5, "need": 5, "do": 5, "how": [5, 16, 17, 18], "function": 5, "class": 5, "ros2": [5, 8, 9, 22], "wrapper": 5, "adapt": 5, "cmakelist": 5, "txt": 5, "overview": 7, "stack": 8, "quickstart": 8, "user": 8, "guid": 8, "softwar": 8, "test": [8, 12, 13], "applic": 8, "demo": 8, "servic": [9, 14, 19, 21, 23, 24], "interfac": [9, 20, 21, 22, 23], "proxi": [9, 12, 24], "cia402": [9, 14], "instal": 10, "can": 11, "lifecycl": 12, "testdetail": 12, "ros2_control": [13, 16, 18], "systeminterfac": 13, "detail": 13, "explan": 13, "publish": [14, 24], "subscrib": [14, 24], "bu": [14, 15, 17, 21, 23], "paramet": [14, 21, 23], "file": 15, "structur": 15, "option": 15, "section": 15, "further": 15, "variabl": 15, "cmake": [15, 17], "cia301": 16, "system": [16, 18, 20, 22], "prepar": 16, "us": 16, "rpdo": 16, "access": 16, "current": 16, "state": 16, "tpdo": 16, "send": 16, "command": 16, "launch": [16, 17, 21, 23], "node": [16, 20, 21], "oper": 20, "simpl": 20, "ro": 20, "2": 20, "avail": [21, 23], "compon": [21, 23], "hardwar": 22}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "sphinx": 60}, "alltitles": {"Pilz manipulator PRBT 6": [[0, "pilz-manipulator-prbt-6"]], "Package creation and setup": [[0, "package-creation-and-setup"]], "MoveIt2 setup": [[0, "moveit2-setup"]], "Running the PRBT robot": [[0, "running-the-prbt-robot"]], "Trinamic Stepper Motor control": [[1, "trinamic-stepper-motor-control"]], "Introduction": [[1, "introduction"]], "Getting started": [[1, "getting-started"]], "Configuration": [[1, "configuration"]], "Running the example": [[1, "running-the-example"]], "Reference": [[1, "reference"]], "Architecture": [[2, "architecture"]], "Device Container": [[2, "device-container"], [23, "device-container"]], "CANopen Master Driver Architecture": [[2, "canopen-master-driver-architecture"]], "CANopen Device Driver Architecture": [[2, "canopen-device-driver-architecture"]], "Design Objectives": [[3, "design-objectives"]], "Development Objectives": [[3, "id1"]], "Creating your device manager": [[4, "creating-your-device-manager"]], "Creating a new device driver": [[5, "creating-a-new-device-driver"]], "What you need to do": [[5, "what-you-need-to-do"]], "How you do it": [[5, "how-you-do-it"]], "Create the package": [[5, "create-the-package"]], "Create the functionality class": [[5, "create-the-functionality-class"]], "CANopen functionality": [[5, "canopen-functionality"]], "ROS2 functionality": [[5, "ros2-functionality"]], "Create the ROS2 wrapper classes": [[5, "create-the-ros2-wrapper-classes"]], "Adapt the CMakeLists.txt": [[5, "adapt-the-cmakelists-txt"]], "Creating a new master": [[6, "creating-a-new-master"]], "Overview": [[7, "overview"]], "ROS2 CANopen Stack": [[8, "ros2-canopen-stack"]], "Quickstart": [[8, null]], "User Guide": [[8, null]], "Developer Guide": [[8, null]], "Software Tests": [[8, null]], "Application Demos": [[8, null]], "Running Examples": [[9, "running-examples"]], "Service Interface": [[9, "service-interface"], [23, "service-interface"]], "Managed Service Interface": [[9, "managed-service-interface"], [21, "managed-service-interface"]], "ROS2 Control": [[9, "ros2-control"]], "Proxy Setup": [[9, "proxy-setup"]], "CiA402 Setup": [[9, "cia402-setup"]], "Robot Setup": [[9, "robot-setup"]], "Installation": [[10, "installation"]], "Setup CAN Controller": [[11, "setup-can-controller"]], "Lifecycle Proxy Driver Test": [[12, "lifecycle-proxy-driver-test"]], "Testdetails": [[12, "id1"], [12, "id2"]], "Proxy Driver Test": [[12, "proxy-driver-test"]], "ros2_control SystemInterface test": [[13, "ros2-control-systeminterface-test"]], "Test details": [[13, "test-details"]], "Tests": [[13, "id1"]], "Explanation of the test": [[13, "explanation-of-the-test"]], "Cia402 Driver": [[14, "cia402-driver"]], "CIA402 Drivers": [[14, "id1"]], "Services": [[14, "services"], [19, "services"], [24, "services"]], "Publishers": [[14, "publishers"], [24, "publishers"]], "Subscribers": [[14, "subscribers"], [24, "subscribers"]], "Bus Configuration Parameters": [[14, "bus-configuration-parameters"]], "Configuration Package": [[15, "configuration-package"]], "Bus Configuration File": [[15, "bus-configuration-file"]], "Structure": [[15, "structure"]], "Options Section": [[15, "options-section"]], "Options Configuration": [[15, "id1"]], "Master Section": [[15, "master-section"]], "Master Configuration": [[15, "id2"]], "Device Section": [[15, "device-section"]], "Device Configuration": [[15, "id3"]], "Further references": [[15, "further-references"]], "Variables": [[15, "variables"]], "Configuration Package CMake": [[15, "configuration-package-cmake"]], "How to create a cia301 system with ros2_control": [[16, "how-to-create-a-cia301-system-with-ros2-control"]], "Preparing the configuration": [[16, "preparing-the-configuration"]], "Use RPDO to access the current state": [[16, "use-rpdo-to-access-the-current-state"]], "Use TPDO to send commands": [[16, "use-tpdo-to-send-commands"]], "How to launch the nodes": [[16, "how-to-launch-the-nodes"]], "How to create a configuration package": [[17, "how-to-create-a-configuration-package"]], "Package creation": [[17, "package-creation"]], "Bus configuration creation": [[17, "bus-configuration-creation"]], "Launch configuration creation": [[17, "launch-configuration-creation"]], "CMAKE Configuration creation": [[17, "cmake-configuration-creation"]], "How to create a robot system with ros2_control": [[18, "how-to-create-a-robot-system-with-ros2-control"]], "Master Driver": [[19, "master-driver"]], "Master Drivers": [[19, "id1"]], "Operation": [[20, "operation"]], "Simple nodes container": [[20, "simple-nodes-container"]], "Managed nodes container": [[20, "managed-nodes-container"]], "ROS 2 control system interface": [[20, "ros-2-control-system-interface"]], "Device Container with managed nodes": [[21, "device-container-with-managed-nodes"]], "Bus Configuration": [[21, "bus-configuration"], [23, "bus-configuration"]], "Available Driver Components": [[21, "id2"], [23, "id3"]], "Launching": [[21, "launching"], [23, "launching"]], "Parameters": [[21, "id3"], [23, "id4"]], "Hardware Interface": [[22, "hardware-interface"]], "Robot System Interface": [[22, "robot-system-interface"]], "ROS2 Controllers": [[22, "ros2-controllers"]], "Robot Controller": [[22, "robot-controller"]], "Proxy Driver": [[24, "proxy-driver"]], "Proxy Drivers": [[24, "id1"]]}, "indexentries": {}})